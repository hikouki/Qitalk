!function t(e,n,i){function o(s,p){if(!n[s]){if(!e[s]){var a="function"==typeof require&&require;if(!p&&a)return a(s,!0);if(r)return r(s,!0);var h=new Error("Cannot find module '"+s+"'");throw h.code="MODULE_NOT_FOUND",h}var c=n[s]={exports:{}};e[s][0].call(c.exports,function(t){var n=e[s][1][t];return o(n?n:t)},c,c.exports,t,e,n,i)}return n[s].exports}for(var r="function"==typeof require&&require,s=0;s<i.length;s++)o(i[s]);return o}({1:[function(t,e,n){!function(t,n){"use strict";var i=function(){};i.prototype.init=function(t){this.options=n.extend({host:"",root:"#qitalk",tplDir:"./tpl",preload:{tpl:[],service:["ALMemory"]},handle:{start:function(){}}},t),this.$root=n(this.options.root),this.tplCache={},this.proxy={},this.qisession=new QiSession(null,null,this.options.host),this._asyncCacheTpl(),this._asyncCacheService().then(this.options.handle.start)},i.prototype.presentView=function(t,e){if(this.params=e,t in this.tplCache)this.$root.html(this.tplCache[t]),this.params=null;else{this.$root.load(this._makeTplPath(t),null,function(){this.params=null})}},i.prototype.subscriber=function(t,e){this.qisession.service("ALMemory").then(function(n){n.subscriber(t).then(function(t){t.signal.connect(e)})})},i.prototype.raiseEvent=function(t,e){this.qisession.service("ALMemory").then(function(n){n.raiseEvent(t,e)})},i.prototype._asyncCacheTpl=function(){var t=this.options.preload.tpl;if(t){var e=this;n(t).each(function(){var t=this;n.ajax({type:"GET",url:e._makeTplPath(this),dataType:"html"}).done(function(n){e.tplCache[t]=n})})}},i.prototype._asyncCacheService=function(){var t=new n.Deferred,e=this.options.preload.service;if(e){var i=this,o=[];return n(e).each(function(){var t=this;!function(e){i.qisession.service(t).then(function(n){i.proxy[t]=n,e.resolve()}),o.push(e.promise())}(new n.Deferred)}),n.when.apply(this,o).then(function(){t.resolve()}),t.promise()}},i.prototype._makeTplPath=function(t){return this.options.tplDir+"/"+t+".tpl"},"undefined"!=typeof window&&(window.Qitalk=new i),"undefined"!=typeof e&&e.exports&&(e.exports=new i)}(window,jQuery)},{}]},{},[1]);